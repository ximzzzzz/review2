# 리눅스를 배워가자

### 리알못 탈출기



##### 리눅스를 하며 배우는 모든 것을 업데이트 한다.

##### 리눅스 사용환경 centos7 





vi를 통한 `~.sh`  작업시에 if 문을 사용할 때가 있다.

```bash
if [조건] ; then ... 
else ...
fi
```

이러한 기본문법에서 `[조건]` 부분을 보자.



**[ -z  "문자열"] :** 문자열의 길이가 0이면 참

**[ -n "문자열"] :** 문자열의 길이가 0이 아니면 참



**[ -eq ] :** 값이 같으면 참

**[ -ne ] :** 값이 다르면 참

**[ -gt ] :**  값1 > 값2

**[ -ge** **] :** 값1  >= 값2

**[ -lt ] :** 값1 < 값2

**[ -le ] :** 값1 <= 값2



**[ -a ] :** &&연산과 동일 and 연산

**[ -o ] :** ||연산과 동일 xor 연산



**[ -d ] :** 파일이 디렉토리면 참

**[ -e ] :** 파일이 있으면 참

**[ -L ] :** 파일이 심볼릭 링크면 참

**[ -r ] :** 파일이 읽기 가능하면 참

**[ -s ] :** 파일의 크기가 0 보다 크면 참

**[ -w ] :** 파일이 쓰기 가능하면 참

**[ -x ] :** 파일이 실행 가능하면 참

**[ 파일1 -nt 파일2 ]  :** 파일1이 파일2보다 최신파일이면 참

**[ 파일1 -ot 파일2 ]  :** 파일1이 파일2보다 이전파일이면 참

**[ 파일1 -ef 파일2 ] :** 파일1이 파일2랑 같은 파일이면 참



출처: 

https://jink1982.tistory.com/48





`$*`은 모든 입력 인자,`$#`는 인자의 갯수를 의미한다.





## unzip을 할때 인코딩을 바꿔야할 경우

윈도우 압축파일을 서버로 옮겨서 압축을 풀었더니 파일명으로된 한글이 다깨진다.

-> 압축풀때 인코딩을 정해줬더니 해결!

```bash
unzip -O <encoding> <filename> -d <target_dir>
```



인코딩을 통해 한글명파일로 잘 있지만 실제로 vi를 통해 열어보니 글씨체가 깨져있다.

-> vim 인코딩을 통해 변경!

```bash
# vi를 통해 파일을 연 뒤, 인코딩을 바꿔준다!
:e ++enc=<encoding>
```



## centos 시스템 종료 및 재시작

shutdown [옵션] [시간] [메시지]

-t n : 경고 메세지를 보낸 후 n초 후에 kill 시그널을 보낸다.

-h : shutdown시 halt를 실행하게 한다.

-n : 디스크 동기화 동작의 수행을 금지한다.

-r : 시스템을 재부팅한다.

-f : 다음 부팅시 파일시스템 검사를 하지 않는다.

-c : 이미 예약되어 있는 shutdown을 취소한다. 이 옵션을 둔다면 시간인수는 줄 수 없다.

   하지만 메시지는 사용자들에게 줄 수 있다.

-k : 모든 동작을 제대로 수행하지만, 실제로 시스템을 종료하지는 않는다.

**시스템 종료시 가장 자주 사용되는 방식 : shutdown -h now**

**시스템 재부팅시 자장 자주 사용되는 방식 : shutdown -r now**

시스템 종료 예약 : shutdown -h 10 (10분 후에 시스템을 종료한다.)

출처: https://as-one.tistory.com/entry/리눅스-centos-명령어-정리-공부하면서-지속적으로-업데이트 



## 리눅스 서버간 특정경로 마운트하기

서버1에서 데이터셋을 모으다가 서버2나 서버3에서 사용하고 싶을때 

서버1의 데이터셋경로를 마운트 할 필요가 있다

서버간 SSH를 사용할 수 있다면 SSHFS 를 통해서 간단히 할 수 있다.

 친절하고 자세한 내용은 아래 링크 참조 

https://blog.leocat.kr/notes/2018/04/23/sshfs-mount-remote-server-using-ssh



