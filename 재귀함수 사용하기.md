## 재귀함수 사용하기





```python
def cm_maker(root):
    _, directories, files = next(os.walk(root))

    if '.ipynb_checkpoints' in directories:
        directories.remove('.ipynb_checkpoints')
    if '__pycache__' in directories:
        directories.remove('__pycache__')
    if 'KTT_CM' in directories:
        directories.remove('KTT_CM')
           
#     print('root : ', root, '\nsub directories : ', directories)
    nb_list = list(filter(re.compile('.*ipynb$').match, files))
    py_list = list(filter(re.compile('.*[.]py$').match, files))
    

    if len(nb_list)!=0:
        path = os.path.join('/Data/KTT/KTT_CM/', os.path.basename(root))
        if not os.path.exists(path):
            os.makedirs(path)
        for nb_file in nb_list:
            shutil.copy(os.path.join(root, nb_file), os.path.join(path, nb_file))
            
    if len(py_list)!=0:
        path = os.path.join('/Data/KTT/KTT_CM/', os.path.basename(root))
        if not os.path.exists(path):
            os.makedirs(path)
        for py_file in py_list:
            shutil.copy(os.path.join(root, py_file), os.path.join(path, py_file))
            
    if len(directories)!=0:
        for directory in directories:
            cm_maker(os.path.join(root, directory))

```





